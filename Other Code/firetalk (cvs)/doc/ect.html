<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
 <head>
  <title>ECT -- External Client Transaction</title>
  <base href="http://users.n.ml.org/nc/naim/">
 </head>
 <body bgcolor="#FFFFFF">
<p align=center>
<a href="http://web.n.ml.org/"><img src="/icons/narnia-s.jpg" alt="[narnia]" border=0></a><br>
<MAP NAME="sitemap">
<area shape="rect" coords="0,0,75,35" href="http://web.n.ml.org/" alt="[Home]">
<area shape="rect" coords="76,0,140,35" href="http://web.n.ml.org/info/" alt="[Info]">
<area shape="rect" coords="141,0,231,35" href="http://web.n.ml.org/contact.html" alt="[Contact]">
<area shape="rect" coords="232,0,295,35" href="http://users.n.ml.org/" alt="[Users]">
<area shape="rect" coords="296,0,410,35" href="http://ftp.n.ml.org/" alt="[Software]">
</MAP>
<img src="/icons/sitemap.jpg" width=410 height=35 alt="narnia sitemap" border=0 usemap="#sitemap">
</p>
&nbsp;<br>
&nbsp;<br>
<p align="center">
<font size="+1">
Note that this proposal has been dead for months and months now.
</font>
</p>
&nbsp;<br>
&nbsp;<br>
<p>
Who says client implementors can't innovate as well as imitate? I've been
toying with the idea of a <a
href="http://ftp.n.ml.org/irc/ctcp.doc.txt">CTCP</a>-ish extension to
naim's HTML vocabulary. Specifically, the ability to send actions (as in
<code>/me is a fluffy cat</code>) and transfer files from one client to
another (similar to <code>/dcc send othernick filename</code>).
</p>
<p>
Tentatively I'm using &lt;!ECT ...&gt; for my psuedo-HTML tag. !ECT will
require a <I>type</I> sub-tag at the very least in order to distinguish
which type of ECT is being transmitted. A [tentative, of course] listing
of ECT <I>type</I>s follows:
</p>
<PRE>
       &lt;!ECT type="action" text="<I>action text</I>"&gt;
       &lt;!ECT type="send" addr="<I>address</I>" port="<I>port</I>" size="<I>file size</I>" name="<I>file name</I>"&gt;
</PRE>
<p>
<I>type="action"</I> is demonstrated in the following IMs:<br>
&lt;HTML&gt;&lt;!ECT type="action" text="smiles fondly at you"&gt;&lt;/HTML&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;* <I>screenname</I> smiles fondly at you<br>
&nbsp;<br>
&lt;!ECT TYPE=ACTION TEXT="says \"hi there!\""&gt;hullo :)<br>
&nbsp;&nbsp;&nbsp;&nbsp;* <I>screenname</I> says "hi there!"<br>
&nbsp;&nbsp;&nbsp;&nbsp;<I>screenname</I>: hullo :)<br>
</p>
<p>
<I>type="send"</I> is demonstrated in the following IMs:<br>
&lt;HTML&gt;&lt;!ECT type="send" addr="3502498876" port="7203" size="17402" name="fluffy.jpg"&gt;&lt;/HTML&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;*** <I>screenname</I> wants to send you <B>fluffy.jpg</B> (16.9 kilobytes)<br>
&nbsp;&nbsp;&nbsp;&nbsp;*** Press F9 to receive this file<br>
&nbsp;<br>
&lt;!ECT TYPE=SEND ADDR=3502498876 PORT=9848 NAME="jokes.txt"&gt;get this file, yo, it's mad funny!<br>
&nbsp;&nbsp;&nbsp;&nbsp;*** <I>screenname</I> wants to send you <B>jokes.txt</B> (unknown size)<br>
&nbsp;&nbsp;&nbsp;&nbsp;*** Press F9 to receive this file<br>
&nbsp;&nbsp;&nbsp;&nbsp;<I>screenname</I>: get this file, yo, it's mad funny!<br>
&nbsp;<br>
&lt;!Ect Type=send Addr=3502498876 port=10473&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;*** <I>screenname</I> wants to send you a file (unknown size)<br>
&nbsp;&nbsp;&nbsp;&nbsp;*** Press F9 to receive this file<br>
&nbsp;<br>
Note that the <I>address</I> in addr="<I>address</I>" is the return value
of <a
href="http://www.ecst.csuchico.edu/~beej/guide/net/man.cgi?inet_addr">inet_addr()</a>.
3502498876 is inet_addr("208.195.228.60"), the IP address of my machine.
</p>
<hr>
<address><a href="http://users.n.ml.org/n/">Daniel Reed</a>
&lt;<a href="mailto:n@ml.org">n@ml.org</a>&gt;</address>
Unix - it's a nice place to live, but you wouldn't want to visit there.<br>
<a href="http://www.linux.org/info/">
<img src="/icons/linux/damn-straight.gif" alt="[Linux]" border=0 align="right">
</a>
 </body>
</HTML>
